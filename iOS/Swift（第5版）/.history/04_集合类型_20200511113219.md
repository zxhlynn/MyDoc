# 集合类型

Swift 提供了数组（Array）、集合（Set）和字典（Dictionary）三种基本的集合类型来存储集合数据。

- 数组：有序的值的集合
- 集合：唯一值的无序集合
- 字典：无序键值对的集合

Swift 的数组、集合和字典必须明确存储的键值类型。这样就可以避免插入一个错误的数据类型的值，同时也可以放心的使用数据，因为值的类型是明确的。

> Swift 的数组、集合和字典类型被实现为泛型集合。

## 集合的可变性

你创建的数组，集合或者字典并且将其赋值给一个变量，那么你创建的集合就是可变的。可变集合可以通过添加、移除或者改变集合中的元素来进行更改。如果，你将其赋值给一个常量，则集合就是不可变的，它的大小和内容都不能被改变。

> 在不需要改变集合的时候创建不可变集合是很好的实践。这样做便于你理解自己的代码，也能让 Swift 编译器优化集合的性能。

## 数组

数组以有序的方式来存储相同类型的值。相同的值可以在数组的不同地方出现多次。

> Swift 的 Array 类型被桥接到了基础框架的 NSArray 类上。

### 数组类型简写语法

Swift 数组类型的完整写法是 `Array<Element>`，Element 是数组允许存入的值的类型。你也可以简写数组的类型为`[Element]`。推荐使用简写。

### 创建一个空数组

使用构造语法来创建一个空数组：

```swift
let arr = [Int]()
let arr1 = Array<Int>()
```

> 通过构造函数的类型，arr,arr1 的值类型被推断为 `[Int]`。

如果代码上下文中已经提供了类型信息，例如一个函数参数或者一个已经定义好类型的常量或者变量，你可以使用空数组语句创建一个空数组，它的写法很简单：[]（一对空方括号）：

```swift
arr.append(3)
// arr 现在包含一个 Int 值
arr = []
// arr 现在是空数组，但是仍然是 [Int] 类型的。
```

### 使用默认值创建数组

Swift 的 Array 类型提供了创建特定大小并且所有数据都被默认的构造方法。可以把准备加入新数组的数据项数量（count）和适当类型的初始值（repeating）传入数组构造函数：

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles 是一种 [Double] 数组，等价于 [0.0, 0.0, 0.0]
```

### 通过两个数组相加创建一个数组 / 用数组字面量构造数组

你可以使用加法操作符（+）来组合两个已存在的相同类型数组。新数组的数据类型会从两个数组的数据类型中推断出来：

```swift
let arr3 = [10,20] // 使用字面量初始化一个[Int]类型的数组
let arr4 = [30,40]
let arr5 = arr3 + arr4
```

### 访问和修改数组

你可以通过数组的方法和属性来访问和修改数组，或者使用下标语法。

可以使用数组的只读属性 count 来获取数组中的数据项数量：

```swift
arr5.count // 4
```

使用 isEmpty 属性来检查 count 属性是否等于 0.

```swift
arr5.isEmpty // false
```

也可以使用 `append(_:)` 方法在数组后面添加新的数据项：

```swift
var arr_test = [1,2,3]
arr_test.append(10)
// arr_test: [1,2,3,10]
```

也可以使用加法赋值运算符（+=）直接将另一个相同类型数组中的数据添加到该数组后面：

```swift
arr_test += ["Baking Powder"]
// shoppingList 现在有四项了
arr_test += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList 现在有七项了
```

可以直接使用下标语法来获取数组中的数据项，把所需要数据项的索引值直接放在数组名称之后的方括号中：

```swift
var firstItem = arr[0]
// 第一项是10
```

> 第一项在数组中的索引值是 0 而不是 1。 Swift 中的数组索引总是从零开始。

也可以用下标来改变某个有效索引值对应的数据值：

```swift
shoppingList[0] = "Six eggs"
// 其中的第一项现在是“Six eggs”而不是“Eggs”
```

> 当你使用下标语法，所使用的下标必须是有效的，否则会产生一个运行时错误

还可以利用下标来一次改变一系列数据值，即使新数据和原有数据的数量是不一样的。

```swift
shoppingList[4...6] = ["Bananas", "Apples"]
// shoppingList 现在有6项
```

通过调用数组的 `insert(_:at:)` 方法在某个指定索引值之前添加数据项：

```swift
shoppingList.insert("Maple Syrup", at: 0)
// shoppingList 现在有7项
// 现在是这个列表中的第一项是“Maple Syrup”
```

类似的可以使用 `remove(at:)` 方法来移除数组中的某一项。这个方法把数组在特定索引值中存储的数据项移除并且返回这个被移除的数据项。

```swift

```
